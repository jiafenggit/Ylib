<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html>
<body bgcolor="#ffffff">
<font size="-1">/&nbsp;ydom.h&nbsp;/&nbsp;Content</font>
<pre>/* Process this file with the HeaderBrowser tool (http://www.headerbrowser.org)
   to create documentation. */

#ifndef __YDOM_H__
#define __YDOM_H__

#include "ydefs.h"
#include "ystr.h"
#include "ysax.h"

#if defined(__cplusplus) || defined(c_plusplus)
extern "C" {
#endif /* __cplusplus || c_plusplus */


enum ydom_node_type_e {
	VOID_NODE = 0,
	ELEMENT_NODE,
	ATTRIBUTE_NODE,
	TEXT_NODE,
	CDATA_SECTION_NODE,
	PROCESSING_INSTRUCTION_NODE,
	COMMENT_NODE,
	DOCUMENT_NODE
};


typedef enum ydom_node_type_e ydom_node_type_t;


struct ydom_s {
	struct ydom_node_s *document_element;
	struct ydom_node_s *current_parsed_node;
	yerr_t error;
	char *xml_version;
	char *encoding;
	char *standalone;
};


typedef struct ydom_s ydom_t;


struct ydom_node_s {
	ydom_node_type_t node_type;
	bool complete;
	char *name;
	char *value;
	int position;
	struct ydom_node_s *parent;
	struct ydom_node_s *prev;
	struct ydom_node_s *next;
	struct ydom_node_s *attributes;
	struct ydom_node_s *first_child;
	struct ydom_node_s *last_child;
	struct ydom_node_s *document;
};


typedef struct ydom_node_s ydom_node_t;


ydom_t *ydom_new(void);


void ydom_del(ydom_t *dom);


yerr_t ydom_read_file(ydom_t *dom, const char *filename);


yerr_t ydom_read_stream(ydom_t *dom, FILE *stream);


yerr_t ydom_read_memory(ydom_t *dom, char *mem);


ydom_node_t *_ydom_get_root_node_of_node(ydom_node_t *node);


void ydom_write(ydom_t *dom, FILE *stream);


ystr_t ydom_dump(ydom_t *dom);


void ydom_set_version(ydom_t *dom, char *version);


void ydom_set_encoding(ydom_t *dom, char *encoding);


void ydom_set_standalone(ydom_t *dom, char *standalone);


ydom_node_t *ydom_add_elem(ydom_t *dom, char *tagname);


ydom_node_t *ydom_add_text(ydom_t *dom, char *data);


ydom_node_t *ydom_add_comment(ydom_t *dom, char *data);


ydom_node_t *ydom_add_process_instr(ydom_t *dom, char *target, char *data);


ydom_node_t *ydom_add_cdata(ydom_t *dom, char *data);


ydom_node_t *ydom_get_document(ydom_t *dom);


yvect_t ydom_xpath(ydom_t *dom, char *xpath);


void ydom_sort(ydom_t *dom, int (*func)(const void*, const void*));


bool ydom_node_is_element(ydom_node_t *node);


bool ydom_node_is_text(ydom_node_t *node);


bool ydom_node_is_comment(ydom_node_t *node);


bool ydom_node_is_process_instr(ydom_node_t *node);


bool ydom_node_is_cdata(ydom_node_t *node);


bool ydom_node_is_attr(ydom_node_t *node);


bool ydom_node_is_document(ydom_node_t *node);


ydom_node_t *ydom_node_add_attr(ydom_node_t *node, char *attr_name,
                                char *attr_value);


ydom_node_t *ydom_node_set_attr(ydom_node_t *node, char *attr_name,
				char *attr_value);


ydom_node_t *ydom_node_add_elem(ydom_node_t *node, char *tagname);


ydom_node_t *ydom_node_add_text(ydom_node_t *node, char *data);


ydom_node_t *ydom_node_add_comment(ydom_node_t *node, char *data);


ydom_node_t *ydom_node_add_process_instr(ydom_node_t *node, char *target,
					 char *data);


ydom_node_t *ydom_node_add_cdata(ydom_node_t *node, char *data);


char *ydom_node_get_name(ydom_node_t *node);


char *ydom_node_get_value(ydom_node_t *node);


int ydom_node_get_nbr_children(ydom_node_t *node);


int ydom_node_get_nbr_attr(ydom_node_t *node);


int ydom_node_get_nbr_same_attr(ydom_node_t *node, char *attr_name);


ydom_node_t *ydom_node_get_parent(ydom_node_t *node);


ydom_node_t *ydom_node_get_prev(ydom_node_t *node);


ydom_node_t *ydom_node_get_next(ydom_node_t *node);


char *ydom_node_get_attr_value(ydom_node_t *node, char *attr_name);


ydom_node_t *ydom_node_get_first_attr(ydom_node_t *node);


ydom_node_t *ydom_node_get_first_child(ydom_node_t *node);


ydom_node_t *ydom_node_get_last_child(ydom_node_t *node);


yvect_t ydom_node_xpath(ydom_node_t *node, char *xpath);


void ydom_node_sort(ydom_node_t *node, int (*func)(const void *, const void*));


void ydom_node_sort_all(ydom_node_t *node,
                        int (*func)(const void*, const void*));


ydom_node_t *ydom_node_rm(ydom_node_t *node);


void ydom_node_rm_children(ydom_node_t *node);


void ydom_node_rm_attr(ydom_node_t *node, char *attr_name);


void ydom_node_rm_attributes(ydom_node_t *node);


yvect_t ydom_get_nodes_from_xpath(yvect_t nodes, char *xpath);

#if defined(__cplusplus) || defined(c_plusplus)
}
#endif /* __cplusplus || c_plusplus */

#endif /* __YDOM_H__ */
</pre>
</body>
</html>