<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html>
<body bgcolor="#ffffff">
<font size="-1">/&nbsp;ysax.h&nbsp;/&nbsp;Description</font>
<center>
	<h1>ysax.h</h1>
	<br />
	<table width="80%"><tr><td>
		<b>Abstract:</b> All declarations for XML SAX parser.
		<hr width="100%" />
		<br />		The XML SAX (Simple API for XML) parser is the simpliest way to read XML files, streams or character strings. Functions are affected to events (when the parser find an open or a close tag, a comment, ...). <p /><b>How to use the SAX API ?</b><br /> First of all, you must create a SAX parser: <pre>ysax_t *sax = ysax_new(data);</pre> Where <i>data</i> is a pointer to data that handlers should use to do there jobs.<p /> <pre>ysax_t *sax = ysax_new(filename, stream, mem, data);</pre> Where <i>filename</i> is the name of the XML file to parse, <i>stream</i> is a pointer to a stream used if <i>filename</i> is set to NULL, and <i>mem</i> is a pointer to a character string (which contains XML data) used if  <i>filename</i> and <i>stream</i> are set to NULL. <i>data</i> is a pointer to data that handlers should use to do there jobs.<p /> After, you set the handlers, with ysax_set_tag_hdlr(), ysax_set_inside_text_hdlr(), ...<p /> <ul> <li>The handler for open tags must have this prototype: <pre>void func(ysax_t *sax, char *name, yvect_t attrs);</pre> <ul><li>A pointer to the parser</li> <li>A string which contains the tag name</li> <li>A yvector of ysax_attr_t which contains all name/value attributes of the tag, with the last element of the array set to zero</li> </ul><p /></li> <li>The handler for close tag must have this prototype: <pre>void func(ysax_t *sax, char *name);</pre> <ul><li>A pointer to the parser</li> <li>A string which contains the tag name</li> </ul><p /></li> <li>The handler for inside text is call when some text is finded between an open  and a close tag; it must have this prototype: <pre>void func(ysax_t *sax, char *text);</pre> <ul><li>A pointer to the parser</li> <li>A string finded between an open and a close tag</li> </ul><p /></li> <li>The comment handler is call when an XML comment is finded (text between  "&lt;!--" and "--&gt;"); it must have this prototype: <pre>void func(ysax_t *sax, char *comment);</pre> <ul><li>A pointer to the parser</li> <li>A string which contains the finded comment</li> </ul><p /></li> <li>The processing instruction handler is call when a processing instruction is  finded (text between "&lt;?" and "?&gt;"); it must have this prototype: <pre>void func(ysax_t *sax, char *target, char *content);</pre> <ul><li>A pointer to the parser</li> <li>A string which contains the target of the processing instruction</li> <li>A string which contains the processing instruction itself</li> </ul><p /></li> <li>The CDATA handler is call when a CDATA instruction is finded (text between "&lt;![CDATA[[" and "]]&gt;"); it must have this prototype: <pre>void func(ysax_t *sax, char *content);</pre> <ul><li>A pointer to the parser</li> <li>A string which contains the CDATA content</li> </ul><p /></li> </ul> To launch the parser execution, you just have to call: <pre>ysax_parse(sax);</pre> This function return YENOERR if all is OK. It read the XML file, and call the handlers.<p /> If an error is detected in a handler, you could stop the parsing be calling this function (and then the ysax_parse() function will return an YEL2HLT error): <pre>ysax_stop(sax);</pre> <p />When you have finish, you could free the memory allocated by the parser: <pre>ysax_del(sax);</pre><br /><br />
		<hr width="100%" />		<b>Version:</b> 1.0.0 Sep 14 2002
		<hr width="100%" />		<b>Authors:</b><br />
Amaury Bouchard <A HREF="mailto:amaury@amaury.net">amaury@amaury.net</A>
<BR>
	</td></tr></table>
</center>
</body>
</html>